/*! zwig v0.1.0 - (c) Alexander Kramer - MIT license */
!function(){function a(a){return void 0!==a&&void 0==a}function b(a){return isNaN(a)?0:Number(a)}function c(b){return a(b)||"object"==typeof b?b="":"boolean"==typeof b?b=b?"1":"":"string"!=typeof b&&(b=String(b)),b}function d(a){this.stack=[a],this.pointer=0}function e(a){var b;if("object"==typeof a){for(var c=0;c<a.length;c++)if(b=f(a[c]),b in x)return b}else if(b=f(a),b in x)return b}function f(a){return a.replace(/^\//,"").replace(/([^\w\/\\])/,"").replace(/([\/\\])/,"__")}function g(b){return"object"!=typeof b||a(b)?c(b):"Array"}function h(a,b){return a.indexOf(b)!==-1}function i(a,b){for(var c in a)if(a.hasOwnProperty(c)&&a[c]==b)return!0;return!1}function j(a,b){for(var c=0;c<a.length;c++)if(a[c]==b)return!0;return!1}function k(a,b){for(var c=[],d=a;d<=b;d++)c.push(d);return c}function l(a,b){return k(b,a).reverse()}function m(a){for(var b=0;b<a.length;b++)a[b]=String.fromCharCode(a[b]);return a}function n(a,b,c,d){return"string"==typeof a&&"string"==typeof b&&("undefined"!=typeof a[c]?a[c](b):d(a,b))}function o(a,b){if(a.length<b.length)return!1;for(var c=0;c<b.length;c++)if(a[c]!==b[c])return!1;return!0}function p(a,b){if(a.length<b.length)return!1;for(var c=1;c<=b.length;c++)if(a[a.length-c]!==b[b.length-c])return!1;return!0}function q(a,b){return String(b).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/\//g,"&#x2F;")}function r(a,b){var c=[];for(var d in a)a.hasOwnProperty(d)&&("object"==typeof a[d]?c.push("Array"):c.push(a[d]));return c.join(b)}function s(a,b,c){return""===b?v(a,c):c>0?t(a,b,c):u(a,b,c)}function t(a,b,c){for(var d=a.split(b,c),e=0,f=0;f<d.length;f++)e+=d[f].length;return e+=(d.length-1)*b.length,e<a.length&&(d[d.length-1]+=a.substr(e,a.length-e)),d}function u(a,b,c){var d=a.split(b);return d.slice(0,c)}function v(a,b){return b>0?a.match(new RegExp(".{1,"+b+"}","g")):a.split("")}var w=window.Zwig={},x=w.Templates={},y=w.Operators={},z=w.Filters={};d.prototype.get=function(a){for(var b=this.pointer;b>=0;--b)if(a in this.stack[b])return this.stack[b][a]},d.prototype.set=function(a,b){for(var c=0;c<this.stack.length-1;c++)if(a in this.stack[c])return void(this.stack[c][a]=b);this.stack[this.pointer][a]=b},d.prototype.push=function(){this.stack.push({}),this.pointer++},d.prototype.pop=function(){this.pointer>0&&(this.stack.pop(),this.pointer--)},d.prototype.clone=function(){for(var a={},b=this.pointer;b>=0;b--)for(var c in this.stack[b])!this.stack[b].hasOwnProperty(c)||c in a||(a[c]=this.stack[b][c]);return new d(a)},d.prototype.fill=function(a){for(var b in a)a.hasOwnProperty(b)&&(this.stack[this.pointer][b]=a[b])},w.render=function(a,b,c,f){"undefined"==typeof c?c=new d(b):(c=c.clone(),c.fill(b));var g=e(a);return g?x[g](c):"undefined"!=typeof f&&f?"":"Unable to find template &quot;"+a+"&quot;."},y.add=function(a,c){return b(a)+b(c)},y.concat=function(a,b){return g(a)+g(b)},y.div=function(a,c){return b(a)/b(c)},y.floordiv=function(a,b){return Math.floor(y.div(a,b))},y["in"]=function(a,b){return"undefined"!=typeof b&&("string"==typeof b?h(b,a):"undefined"==typeof b.length?i(b,a):j(b,a))},y.matches=function(a,b){if("object"==typeof a)return!1;var d=b.match(/^\/(.+)\/(.?)$/),e=d?d[1]:b,f=d?d[2]:"";return a=c(a),a.match(new RegExp(e,f))},y.mod=function(a,b){return(isNaN(a)?0:Math.floor(a))%(isNaN(b)?0:Math.floor(b))},y.mul=function(a,c){return b(a)*b(c)},y.power=function(a,b){return Math.pow(isNaN(a)?0:Number(a),isNaN(b)?0:Number(b))},y.range=function(a,b){var c="string"==typeof a;c&&(a=a.charCodeAt(0),b=b.charCodeAt(0));var d=a<b?k(a,b):l(a,b);return c&&(d=m(d)),d},y.startsWith=function(a,b){return n(a,b,"startsWith",o)},y.endsWith=function(a,b){return n(a,b,"endsWith",p)},y.sub=function(a,c){return b(a)-b(c)},z.abs=function(b,c){return"number"==typeof c||"boolean"==typeof c?Math.abs(c):"object"!=typeof c||a(c)?0:""},z.batch=function(a,b,c,d){for(var e,f=[],g=0;g<b.length;g+=c)f.push(b.slice(g,g+c));for(e=f[f.length-1];e.length<c;)e.push(d);return f},z.capitalize=function(a,b){return b=c(b),0===b.length?"":b[0].toUpperCase()+b.slice(1).toLowerCase()},z.escape=q,z.e=q,z.join=function(b,d,e){return"undefined"==typeof e&&(e=""),"object"!=typeof d||a(d)?c(d):"join"in d?d.join(e):r(d,e)},z.json_encode=function(a,b){return"object"==typeof b||"string"==typeof b?JSON.stringify(c(b)):b},z.lower=function(a,b){return c(b).toLowerCase()},z.nl2br=function(a,b){return b.replace("\n","<br />")},z.split=function(b,d,e,f){return"undefined"==typeof e&&(e=""),a(d)?[""]:""===d||0===f?[d]:(d=c(d),"undefined"==typeof f?d.split(e):s(d,e,f))},z.striptags=function(a,b){b=c(b);var d=document.createElement("div");return d.innerHTML=b,d.textContent||d.innerText},z.title=function(a,b){return b=c(b),b.toLowerCase().replace(/^.|\s.|-.|_./g,function(a){return a.toUpperCase()})},z.trim=function(a,b,d){return b=c(b),"undefined"==typeof d&&(d="\\s"),b.replace(new RegExp("^["+d+"]+|["+d+"]+$","g"),"")},z.upper=function(a,b){return c(b).toUpperCase()},z.url_encode=function(a,b){if("object"==typeof b){var c,d=[];for(c in b)b.hasOwnProperty(c)&&d.push(encodeURIComponent(c)+"="+encodeURIComponent(b[c]));return d.join("&")}return encodeURIComponent(b)}}();